@if(!spinnerStatus){
    <app-spinner></app-spinner>
}

<div class="row justify-content-center container-general">
    <div class="col-11 col-md-8 col-lg-8 container-theory mt-3 justify-content-center">
        <!--Header-->
        <div class="row align-items-center progress-activity">
            <div class="col-auto leave">
                <fa-icon [icon]="iconLeave"></fa-icon>
            </div>

            <div class="col content-progress">
                <div class="progress rounded-5">
                    <div class="progress-bar" role="progressbar" style="width: 25%" aria-valuenow="50" aria-valuemin="0"
                        aria-valuemax="100"></div>
                </div>
            </div>

            <div class="col-auto lifes">
                <p><b>5 </b><fa-icon [icon]="iconLifes"></fa-icon></p>
            </div>
        </div>

        <!--Body-->
        <div class="row container-activity justify-content-center align-items-center">
            <div class="col-xs-12 col-sm-12 col-md-11 col-lg-9 col-xl-8">
                @for(activity of arrayActivities; track $index){
                    @if(nextActivity == ($index + 1)){
                        @if(activity.question.type_question == "multi_choice_text" && activity.question.options.select_mode == "multiple"){
                            <app-select-several-correct [question]="activity.question" (multiAnswers)="getMultiOptionsSelected($event)"></app-select-several-correct>
                        }
                        @if(activity.question.type_question == "multi_choice_text" && activity.question.options.select_mode == "single"){
                            <app-select-with-sentence [question]="activity.question" (singleAnswer)="getSingleOptionSelected($event)"></app-select-with-sentence>
                        }
                        @if(activity.question.type_question == "order_word"){
                            <app-order-words [question]="activity.question" (orderedWords)="getWordsInOrder($event)"></app-order-words>
                        }
                        @if(activity.question.type_question == "true_or_false"){
                            <app-true-or-false [question]="activity.question" (trueOrFalseAnswer)="getTrueOrFalse($event)"></app-true-or-false>
                        }
                        @if(activity.question.type_question == "complete_word"){
                            <app-complete-paragraph></app-complete-paragraph>
                        }
                    }
                }
            </div>
        </div>
    </div>
</div>


<div class="row fixed-bottom">
    <div class="row footer d-flex justify-content-center align-items-center">
        <div class="col-10 col-md-8 col-lg-8">
            <div class="container-buttons d-flex justify-content-between">
                <button class="btn btn-outline-primary btn-lg" (click)="leavePractice()">
                    <fa-icon [icon]="iconExit"></fa-icon> Abandonar
                </button>
                @if(selectedOption != ''){
                    <button class="btn btn-primary btn-lg" [disabled]="false" (click)="checkAnswer()">
                        Siguiente <fa-icon [icon]="iconNext"></fa-icon></button>
                }
                @else {
                    <button class="btn btn-primary btn-lg" [disabled]="true">
                        Siguiente <fa-icon [icon]="iconNext"></fa-icon></button>
                }
            </div>
        </div>
    </div>
</div>